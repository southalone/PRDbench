[
  {
    "metric": "1.1 Basic Program Operation Capability: System can start normally and respond to basic commands",
    "description": "1. **Act:** Execute `python main.py` command in the command line.\n2. **Assert:** Observe whether the program starts normally and displays help information containing at least 5 main command options (such as init, location, login, search, recommend, etc.), with no error messages output.",
    "expected_output": "2 points: Program starts normally and displays complete help information with 5 or more main commands, no error output. 1 point: Program can start and display help information, but command options are fewer than 5 or warning messages appear. 0 points: Program cannot start, reports errors directly, or crashes."
  },
  {
    "metric": "1.2 Initialization Command: Supports connecting to database and model via init command, init_model initializes model",
    "description": "1. **Arrange:** Database file exists\n2. **Act:** Execute init and init_model command functions.\n3. **Assert:** Verify that there are indeed merchant records in the database, and model training begins.",
    "expected_output": "2 points: Command executes successfully, generates complete database and model files, displays clear processing progress. 1 point: Command can execute and generate files, but processing has warnings or generated files are incomplete. 0 points: Command execution fails, cannot generate data files, or reports errors directly."
  },
  {
    "metric": "1.3 Location Setting Function: Supports setting user geographic location via location command",
    "description": "1. **Arrange:** Prepare valid latitude and longitude coordinates (e.g., 27.91,-82.71).\n2. **Act:** Execute `location 27.91 -82.71` command.\n3. **Assert:** Observe whether the system displays confirmation information for successful location setting, containing the set coordinate values.",
    "expected_output": "2 points: Successfully sets location and displays confirmation information containing specific coordinate values. 1 point: Can set location but confirmation information is incomplete or format is non-standard. 0 points: Cannot set location, command not recognized, or reports errors."
  },
  {
    "metric": "1.4 User Login Function: Supports logging in specified user via login command",
    "description": "1. **Arrange:** Prepare a valid user ID (e.g., HFECrzYDpgbS5EmTBtj2zQ).\n2. **Act:** Execute `python main.py login HFECrzYDpgbS5EmTBtj2zQ` command.\n3. **Assert:** Observe whether the system displays login success information, containing user ID or user basic information.",
    "expected_output": "2 points: Successfully logs in and displays confirmation information containing user ID or user basic information. 1 point: Can log in but displayed information is incomplete. 0 points: Cannot log in, command not recognized, or reports errors."
  },
  {
    "metric": "2.1 Basic Search Function: Supports simple keyword search",
    "description": "1. **Arrange:** Ensure data initialization is completed, prepare search keyword \"CA restaurant\".\n2. **Act:** Execute `python main.py search \"CA restaurant\"` command.\n3. **Assert:** Observe whether at least 5 restaurant search results are returned, results contain business names and basic information.",
    "expected_output": "2 points: Returns 5 or more relevant Italian restaurant results, information complete and format clear. 1 point: Returns 1-4 relevant results or results have poor relevance but format clear. 0 points: Cannot execute search, no results returned, or results completely irrelevant."
  },
  {
    "metric": "2.2a Advanced Search Parameter: radius parameter function",
    "description": "1. **Arrange:** Set user location, prepare search term \"coffee\" and radius parameter 3000 meters.\n2. **Act:** Execute `python main.py search \"coffee\" --radius 3000` command.\n3. **Assert:** Observe whether all businesses in returned results are within 3000 meters from user location.",
    "expected_output": "2 points: All returned results' distances are strictly within 3000 meters. 1 point: Most results within range, but 1-2 exceed range. 0 points: radius parameter invalid or ignored."
  },
  {
    "metric": "2.2b Advanced Search Parameter: limit parameter function",
    "description": "1. **Arrange:** Prepare search term \"restaurant\" and limit number 15.\n2. **Act:** Execute `python main.py search \"restaurant\" --limit 15` command.\n3. **Assert:** Observe whether returned result quantity is exactly 15 (or less than 15 if total results insufficient).",
    "expected_output": "2 points: Returned result quantity exactly 15 or equals actual available result count (if less than 15). 1 point: Returned result quantity close to 15 but has 1-3 deviation. 0 points: limit parameter invalid, returns default quantity results."
  },
  {
    "metric": "2.2c Advanced Search Parameter: sort parameter function",
    "description": "1. **Arrange:** Prepare search term \"coffee\" and sort parameter \"rating\".\n2. **Act:** Execute search and specify sorting by rating.\n3. **Assert:** Observe whether returned results are sorted by rating from high to low, check whether first 5 results' ratings show decreasing trend.",
    "expected_output": "2 points: Results strictly sorted by rating from high to low, first 5 results' ratings show decreasing trend. 1 point: Roughly sorted by rating, but 1-2 positions incorrect. 0 points: sort parameter invalid, sorting unrelated to rating."
  },
  {
    "metric": "2.3 Category Search Function: Supports search by category and subcategory",
    "description": "1. **Arrange:** Prepare category \"Food\" and subcategory \"Chinese\".\n2. **Act:** Execute `category \"Food\" --subcategory \"Chinese\"` command.\n3. **Assert:** Observe whether returned results are all Chinese restaurants, check category information of first 5 results.",
    "expected_output": "2 points: All returned results belong to Chinese restaurant category, category information accurate. 1 point: Most results belong to correct category, but 1-2 category inaccurate. 0 points: Category search function unavailable or result categories completely wrong."
  },
  {
    "metric": "3.1 Geographic Location Sorting: Search results can be sorted by distance proximity",
    "description": "1. **Arrange:** Set user location, prepare search term \"coffee\".\n2. **Act:** Execute search command and specify sorting by distance.\n3. **Assert:** Check whether first 5 businesses' distances in returned results are arranged in order from near to far.",
    "expected_output": "2 points: First 5 results' distances strictly sorted from near to far. 1 point: Roughly sorted by distance, but 1 position incorrect. 0 points: Sorting unrelated to distance or distance calculation error."
  },
  {
    "metric": "4.1a Multi-field Matching: Business Name Field Matching",
    "description": "1. **Arrange:** Prepare a known existing business name keyword.\n2. **Act:** Search this business name keyword.\n3. **Assert:** Observe whether returned results contain name-matched businesses, and ranked in top 3 positions.",
    "expected_output": "2 points: Can accurately match business names, relevant businesses ranked in top 3 positions. 1 point: Can match business names but ranking not sufficiently high. 0 points: Cannot perform matching search through business names."
  },
  {
    "metric": "4.1b Multi-field Matching: Category Field Matching",
    "description": "1. **Arrange:** Prepare category keyword \"pizza\".\n2. **Act:** Search \"pizza\".\n3. **Assert:** Observe whether returned results are mainly pizza-related businesses.",
    "expected_output": "2 points: Over 80% of returned results are pizza-related businesses. 1 point: 50%-79% of returned results are pizza-related businesses. 0 points: Cannot match through category or matching effect very poor (less than 50% relevant)."
  },
  {
    "metric": "4.1c Multi-field Matching: Address Field Matching",
    "description": "1. **Arrange:** Prepare address keyword \"Highway 19N\" (address existing in example data).\n2. **Act:** Search this address keyword.\n3. **Assert:** Observe whether returned results' business addresses contain relevant geographic location information.",
    "expected_output": "2 points: Over 80% of business addresses in returned results contain searched geographic location keyword. 1 point: 50%-79% of business addresses relevant. 0 points: Cannot perform matching search through address."
  },
  {
    "metric": "4.2 Fuzzy Matching Capability: Supports spelling errors and partial matching",
    "description": "1. **Arrange:** Prepare search term with spelling error \"resturant\" (correct is \"restaurant\").\n2. **Act:** Search \"resturant\".\n3. **Assert:** Observe whether can return restaurant-related search results.",
    "expected_output": "2 points: Can return restaurant-related results, error tolerance effect good. 1 point: Can return partial relevant results but error tolerance capability limited. 0 points: Cannot handle spelling errors, must have exact matching for results."
  },
  {
    "metric": "6.1 Pagination Display Function: Supports paging browsing for large search results",
    "description": "1. **Pre-check (User Path):** When search returns large number of results, whether provides page-turning options or pagination prompts?\n2. **Arrange:** Execute a search that can return large number of results (e.g., \"restaurant\").\n3. **Act:** Observe whether supports pagination, try page-turning operations.\n4. **Assert:** Verify whether pagination function works normally.",
    "expected_output": "2 points: Pre-check passed, supports pagination display and page-turning operations smooth. 1 point: Pre-check passed, has pagination function but operations not convenient enough. 0 points: Pre-check failed or does not support pagination function."
  },
  {
    "metric": "7.1 Business Detail Viewing: Supports viewing single business's detailed information",
    "description": "1. **Pre-check (User Path):** In search results, whether provides options for viewing business details or operation prompts?\n2. **Act:** In search results, select to view some business's detailed information.\n3. **Assert:** Observe whether can display business's detailed information, including complete address, business hours, contact methods, etc., observe whether detail page contains user review content, at least displays 3 reviews and review statistical information (such as total review count, average rating).",
    "expected_output": "5 points: Pre-check passed, can display complete business information including address, business hours, contact methods, rating, reviews. 3 points: Pre-check passed, can display business details but information not complete enough (missing 1-2 items). 0 points: Pre-check failed or cannot view business details."
  },
  {
    "metric": "8.1 Search History Recording: System can record and display user's search history",
    "description": "1. **Pre-check (User Path):** In main menu or interactive mode, whether exists option for viewing search history?\n2. **Arrange:** Execute 3 different search operations.\n3. **Act:** Try to view search history.\n4. **Assert:** Observe whether can display previous 3 search records.",
    "expected_output": "2 points: Pre-check passed, can completely display all 3 search history records. 1 point: Pre-check passed, can display search history but records incomplete (displays 1-2 times). 0 points: Pre-check failed or does not support search history function."
  },
  {
    "metric": "9.1 Error Handling: System can gracefully handle various error situations",
    "description": "1. **Arrange:** Prepare multiple error inputs: invalid commands, wrong parameter formats, non-existing user IDs.\n2. **Act:** Input these error commands and parameters sequentially.\n3. **Assert:** Observe whether system gives clear error prompt information, rather than crashes or displays technical error information.",
    "expected_output": "2 points: All error situations have clear friendly error prompts, no crashes. 1 point: Most errors have prompts but partial prompt information not friendly enough. 0 points: Error handling poor, frequently crashes or gives useless technical error information."
  },
  {
    "metric": "9.2 Performance Performance: Search response time within acceptable range",
    "description": "1. **Arrange:** Prepare 5 different search queries.\n2. **Act:** Continuously execute these 5 searches, record each search's response time.\n3. **Assert:** Observe whether each search completes within 5 seconds, average response time whether within 3 seconds.",
    "expected_output": "2 points: All searches complete within 5 seconds, average response time within 3 seconds. 1 point: Most searches complete within 5 seconds, but 1-2 timeouts or average time exceeds 3 seconds. 0 points: Search response time frequently exceeds 5 seconds, seriously affects user experience."
  },
  {
    "metric": "10.1 Nearby Search Function: Supports nearby command searching nearby businesses",
    "description": "1. **Arrange:** Set user location as 27.91,-82.71, ensure database initialized.\n2. **Act:** Execute `python main.py nearby` command and `python main.py nearby restaurant` command.\n3. **Assert:** Observe whether returns nearby business list, observe all returned businesses' distances whether within 2 kilometers (default search radius), and sorted by distance from near to far.",
    "expected_output": "2 points: nearby command works normally, can return nearby businesses, supports category parameter, results sorted by distance. 1 point: nearby command basically available but function incomplete or sorting problematic. 0 points: nearby command unavailable or cannot return correct results."
  },
  {
    "metric": "12.1 Personalized Recommendation Function: Supports recommend command providing personalized recommendations",
    "description": "1. **Arrange:** Prepare a user ID with review history.\n2. **Act:** Execute unit test, obtain recommendations for this user.\n3. **Assert:** Unit test asserts all recommendation results' categories related to user's historical preference categories.",
    "expected_output": "2 points: recommend command works normally, returns personalized recommendations, results reflect user preferences. 1 point: recommend command available but personalization effect not obvious. 0 points: recommend command unavailable or returns generic results."
  },
  {
    "metric": "12.2 Cold Start Recommendation Function: Location-based recommendations for non-logged-in users",
    "description": "1. **Arrange:** Ensure user not logged in status, set user geographic location.\n2. **Act:** Execute recommend command.\n3. **Assert:** Observe whether system provides popular business recommendations based on geographic location, recommendation results should contain nearby high-rating businesses.",
    "expected_output": "3 points: Successfully provides cold start recommendations based on geographic location, recommendation results high quality and diverse. 2 points: Provides cold start recommendations but quality or diversity needs improvement. 1 point: Provides basic cold start recommendation function. 0 points: Cold start recommendation function unavailable."
  },
  {
    "metric": "13.1 System Statistics Function: Supports stats command displaying system statistical information",
    "description": "1. **Arrange:** Ensure database initialized, has certain data and user activity.\n2. **Act:** Execute `python main.py stats` command.\n3. **Assert:** Observe whether displays system statistical information, including key indicators such as total business count, total user count, total review count,etc.",
    "expected_output": "2 points: stats command works normally, displays complete system statistical information, including at least 5 key indicators. 1 point: stats command available but statistical information incomplete. 0 points: stats command unavailable or cannot display statistical information."
  }
]