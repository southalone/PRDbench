{
  "total_tests": 20,
  "passed_tests": 11,
  "failed_tests": 9,
  "success_rate": 55.00000000000001,
  "detailed_results": [
    {
      "metric": "1.1 系统启动与帮助信息：系统能够正常启动并显示完整的命令帮助信息",
      "type": "shell_interaction",
      "overall_success": true,
      "command_results": [
        {
          "command": "python run.py help",
          "success": true,
          "returncode": 0,
          "stdout_length": 1470,
          "stderr_length": 0,
          "stdout_preview": "Usage: main.py [OPTIONS] COMMAND [ARGS]...\n\n  IoT Environmental Data Collection and Intelligent Prediction System\n\n  A comprehensive system for collecting, processing, and predicting\n  environmental d",
          "stderr_preview": ""
        },
        {
          "command": "cd src && python main.py --help",
          "success": true,
          "returncode": 0,
          "stdout_length": 752,
          "stderr_length": 0,
          "stdout_preview": "Usage: main.py [OPTIONS] COMMAND [ARGS]...\n\n  IoT Environmental Data Collection and Intelligent Prediction System\n\n  A comprehensive system for collecting, processing, and predicting\n  environmental d",
          "stderr_preview": ""
        }
      ]
    },
    {
      "metric": "2.1.1 MQTT发布单条随机数据：支持发布单条随机环境数据到MQTT",
      "type": "shell_interaction",
      "overall_success": true,
      "command_results": [
        {
          "command": "cd src && python main.py mqtt publish --random",
          "success": true,
          "returncode": 0,
          "stdout_length": 743,
          "stderr_length": 0,
          "stdout_preview": "✓ Configuration loaded successfully\n2025-09-07 10:35:14,045 - utils.logger - INFO - Logging system initialized\n2025-09-07 10:35:14,045 - utils.logger - INFO - Log level: INFO\n2025-09-07 10:35:14,046 -",
          "stderr_preview": ""
        }
      ]
    },
    {
      "metric": "2.1.2 MQTT批量数据发布：支持从CSV文件批量发布环境数据",
      "type": "shell_interaction",
      "overall_success": true,
      "command_results": [
        {
          "command": "cd src && python main.py mqtt publish --file samples/environmental_sample.csv --count 5",
          "success": true,
          "returncode": 0,
          "stdout_length": 771,
          "stderr_length": 0,
          "stdout_preview": "✓ Configuration loaded successfully\n2025-09-07 10:35:15,859 - utils.logger - INFO - Logging system initialized\n2025-09-07 10:35:15,859 - utils.logger - INFO - Log level: INFO\n2025-09-07 10:35:15,859 -",
          "stderr_preview": ""
        }
      ]
    },
    {
      "metric": "2.2.1 MQTT数据订阅：支持订阅MQTT消息并接收数据",
      "type": "shell_interaction",
      "overall_success": true,
      "command_results": [
        {
          "command": "cd src && python main.py mqtt subscribe --duration 10 --save",
          "success": true,
          "returncode": 0,
          "stdout_length": 752,
          "stderr_length": 0,
          "stdout_preview": "✓ Configuration loaded successfully\n2025-09-07 10:35:17,748 - utils.logger - INFO - Logging system initialized\n2025-09-07 10:35:17,749 - utils.logger - INFO - Log level: INFO\n2025-09-07 10:35:17,749 -",
          "stderr_preview": ""
        }
      ]
    },
    {
      "metric": "3.1.1 数据分析功能：能够分析环境数据并生成统计报告",
      "type": "shell_interaction",
      "overall_success": true,
      "command_results": [
        {
          "command": "cd src && python main.py data analyze",
          "success": true,
          "returncode": 0,
          "stdout_length": 822,
          "stderr_length": 0,
          "stdout_preview": "✓ Configuration loaded successfully\n2025-09-07 10:35:19,507 - utils.logger - INFO - Logging system initialized\n2025-09-07 10:35:19,507 - utils.logger - INFO - Log level: INFO\n2025-09-07 10:35:19,507 -",
          "stderr_preview": ""
        }
      ]
    },
    {
      "metric": "3.1.2 数据清洗功能：支持数据清洗和预处理操作",
      "type": "shell_interaction",
      "overall_success": true,
      "command_results": [
        {
          "command": "cd src && python main.py data clean",
          "success": true,
          "returncode": 0,
          "stdout_length": 1076,
          "stderr_length": 0,
          "stdout_preview": "✓ Configuration loaded successfully\n2025-09-07 10:35:21,272 - utils.logger - INFO - Logging system initialized\n2025-09-07 10:35:21,272 - utils.logger - INFO - Log level: INFO\n2025-09-07 10:35:21,272 -",
          "stderr_preview": ""
        }
      ]
    },
    {
      "metric": "3.1.3 数据合并功能：支持多源数据合并操作",
      "type": "shell_interaction",
      "overall_success": false,
      "command_results": [
        {
          "command": "cd src && python main.py data merge",
          "success": false,
          "returncode": 1,
          "stdout_length": 503,
          "stderr_length": 0,
          "stdout_preview": "✓ Configuration loaded successfully\n2025-09-07 10:35:23,000 - utils.logger - INFO - Logging system initialized\n2025-09-07 10:35:23,000 - utils.logger - INFO - Log level: INFO\n2025-09-07 10:35:23,000 -",
          "stderr_preview": ""
        }
      ]
    },
    {
      "metric": "4.1.1 机器学习模型训练：支持使用环境数据训练神经网络模型",
      "type": "shell_interaction",
      "overall_success": false,
      "command_results": [
        {
          "command": "cd src && python main.py ml train --data-file samples/environmental_sample.csv --epochs 10",
          "success": false,
          "returncode": 1,
          "stdout_length": 1544,
          "stderr_length": 0,
          "stdout_preview": "✓ Configuration loaded successfully\n2025-09-07 10:35:24,802 - utils.logger - INFO - Logging system initialized\n2025-09-07 10:35:24,802 - utils.logger - INFO - Log level: INFO\n2025-09-07 10:35:24,802 -",
          "stderr_preview": ""
        }
      ]
    },
    {
      "metric": "4.1.2 机器学习预测功能：支持使用训练好的模型进行环境预测",
      "type": "shell_interaction",
      "overall_success": false,
      "command_results": [
        {
          "command": "cd src && python main.py ml train --data-file samples/environmental_sample.csv --epochs 5",
          "success": false,
          "returncode": 1,
          "stdout_length": 1127,
          "stderr_length": 0,
          "stdout_preview": "✓ Configuration loaded successfully\n2025-09-07 10:35:27,118 - utils.logger - INFO - Logging system initialized\n2025-09-07 10:35:27,118 - utils.logger - INFO - Log level: INFO\n2025-09-07 10:35:27,118 -",
          "stderr_preview": ""
        },
        {
          "command": "cd src && python main.py ml predict --temperature 25.0 --humidity 60.0 --pressure 1013.25",
          "success": true,
          "returncode": 0,
          "stdout_length": 869,
          "stderr_length": 0,
          "stdout_preview": "✓ Configuration loaded successfully\n2025-09-07 10:35:29,389 - utils.logger - INFO - Logging system initialized\n2025-09-07 10:35:29,389 - utils.logger - INFO - Log level: INFO\n2025-09-07 10:35:29,389 -",
          "stderr_preview": ""
        }
      ]
    },
    {
      "metric": "4.1.3 模型评估功能：支持评估模型性能并显示评估指标",
      "type": "shell_interaction",
      "overall_success": true,
      "command_results": [
        {
          "command": "cd src && python main.py ml evaluate",
          "success": true,
          "returncode": 0,
          "stdout_length": 1055,
          "stderr_length": 0,
          "stdout_preview": "✓ Configuration loaded successfully\n2025-09-07 10:35:31,128 - utils.logger - INFO - Logging system initialized\n2025-09-07 10:35:31,128 - utils.logger - INFO - Log level: INFO\n2025-09-07 10:35:31,128 -",
          "stderr_preview": ""
        }
      ]
    },
    {
      "metric": "5.1.1 系统状态监控：能够显示系统资源使用情况和健康状态",
      "type": "shell_interaction",
      "overall_success": true,
      "command_results": [
        {
          "command": "cd src && python main.py system status",
          "success": true,
          "returncode": 0,
          "stdout_length": 739,
          "stderr_length": 0,
          "stdout_preview": "✓ Configuration loaded successfully\n2025-09-07 10:35:32,853 - utils.logger - INFO - Logging system initialized\n2025-09-07 10:35:32,853 - utils.logger - INFO - Log level: INFO\n2025-09-07 10:35:32,853 -",
          "stderr_preview": ""
        }
      ]
    },
    {
      "metric": "5.1.2 实时系统监控：支持实时监控系统性能指标",
      "type": "shell_interaction",
      "overall_success": true,
      "command_results": [
        {
          "command": "cd src && python main.py system monitor --duration 15",
          "success": true,
          "returncode": 0,
          "stdout_length": 795,
          "stderr_length": 0,
          "stdout_preview": "✓ Configuration loaded successfully\n2025-09-07 10:35:42,128 - utils.logger - INFO - Logging system initialized\n2025-09-07 10:35:42,129 - utils.logger - INFO - Log level: INFO\n2025-09-07 10:35:42,129 -",
          "stderr_preview": ""
        }
      ]
    },
    {
      "metric": "6.1.1 Web界面启动：能够启动Web服务并提供访问地址",
      "type": "shell_interaction",
      "overall_success": true,
      "command_results": [
        {
          "command": "cd src && timeout 10s python main.py web --host 127.0.0.1 --port 8080 || echo 'Web service started'",
          "success": true,
          "returncode": 0,
          "stdout_length": 20,
          "stderr_length": 36,
          "stdout_preview": "Web service started\n",
          "stderr_preview": "/bin/sh: timeout: command not found\n"
        }
      ]
    },
    {
      "metric": "7.1.1 系统配置向导：提供交互式配置向导功能",
      "type": "shell_interaction",
      "overall_success": false,
      "command_results": [
        {
          "command": "cd src && python main.py setup",
          "success": false,
          "error": "Timeout"
        }
      ]
    },
    {
      "metric": "8.1.1 数据格式验证：系统能够处理标准的环境数据格式",
      "type": "file_comparison",
      "overall_success": true,
      "comparison_results": [
        {
          "command": "head -5 src/samples/environmental_sample.csv",
          "command_success": true,
          "file_comparison_success": true,
          "success": true,
          "stdout_preview": "timestamp,temperature,humidity,pressure,device_id,quality_flag\n2024-01-01T00:00:00,22.5,65.2,1013.25,sensor_001,good\n2024-01-01T00:10:00,22.3,65.8,1013.30,sensor_001,good\n2024-01-01T00:20:00,22.1,66.1,1013.28,sensor_001,good\n2024-01-01T00:30:00,21.9,66.5,1013.22,sensor_001,good\n",
          "expected_files": [
            "evaluation/expected_data_format.csv"
          ]
        }
      ]
    },
    {
      "metric": "8.1.2 数据质量控制：系统能够检测和处理异常数据",
      "type": "unit_test",
      "overall_success": false,
      "test_results": [
        {
          "command": "pytest evaluation/tests/test_data_quality.py::test_data_quality_control -v",
          "success": false,
          "returncode": 127,
          "stdout_preview": "",
          "stderr_preview": "/bin/sh: pytest: command not found\n"
        }
      ]
    },
    {
      "metric": "9.1.1 错误处理机制：系统具备良好的错误处理和用户提示",
      "type": "unit_test",
      "overall_success": false,
      "test_results": [
        {
          "command": "pytest evaluation/tests/test_error_handling.py::test_error_handling -v",
          "success": false,
          "returncode": 127,
          "stdout_preview": "",
          "stderr_preview": "/bin/sh: pytest: command not found\n"
        }
      ]
    },
    {
      "metric": "9.1.2 日志记录功能：系统能够记录详细的操作日志",
      "type": "unit_test",
      "overall_success": false,
      "test_results": [
        {
          "command": "pytest evaluation/tests/test_logging.py::test_log_generation -v",
          "success": false,
          "returncode": 127,
          "stdout_preview": "",
          "stderr_preview": "/bin/sh: pytest: command not found\n"
        }
      ]
    },
    {
      "metric": "10.1.1 用户体验：CLI界面友好，命令提示清晰",
      "type": "shell_interaction",
      "overall_success": false,
      "command_results": [
        {
          "command": "python run.py",
          "success": false,
          "error": "Timeout"
        }
      ]
    },
    {
      "metric": "10.1.2 功能完整性：所有PRD要求的核心功能都能通过CLI访问",
      "type": "unit_test",
      "overall_success": false,
      "test_results": [
        {
          "command": "pytest evaluation/tests/test_functionality_completeness.py::test_all_commands_available -v",
          "success": false,
          "returncode": 127,
          "stdout_preview": "",
          "stderr_preview": "/bin/sh: pytest: command not found\n"
        }
      ]
    }
  ]
}