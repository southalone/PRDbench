[
{
    "metric": "2.1.1 Client Concurrency Limit: Supports up to 3 client processes running simultaneously",
    "description": "1. **Pre-check (User Path):** Is there a clear 'User Login' or 'Client Connection' option in the main system menu to guide users to initiate a login request?\n2. **Preparation (Arrange):** Ensure the system is started and the configuration file predefines at least 4 valid user accounts.\n3. **Execution (Act):** Start the 1st-3rd client processes one by one, use the main menu login function to log in with 3 different accounts; start the 4th client process and attempt to log in with the 4th account.\n4. **Assertion (Assert):** Check whether the first 3 clients log in successfully and display a 'Login Successful' prompt; check whether the 4th client is refused login and displays a clear message 'Maximum concurrent clients (3) reached'.",
    "expected_output": "2 points: Pre-check passed, first 3 clients log in successfully, 4th client is clearly refused and reason is shown. 1 point: Pre-check passed, first 3 clients log in successfully, but 4th is refused without prompt or with ambiguous prompt. 0 points: Pre-check failed (no login entry), or 4th client can log in, or login causes system crash."
},
{
    "metric": "2.1.2 User Authentication: User login verification based on configuration file",
    "description": "1. **Pre-check (User Path):** Does the login interface provide clear prompts for 'Enter Username' and 'Enter Password' to guide users through authentication?\n2. **Preparation (Arrange):** Read the user configuration JSON file in the `config/` directory, obtain one set of correct credentials (username: user1, password: pass1) and one set of incorrect credentials (username: user1, password: wrongpass).\n3. **Execution (Act):** On the client login screen, first enter correct credentials and submit; after logging out, enter incorrect credentials and submit again.\n4. **Assertion (Assert):** When entering correct credentials, does it display 'Login Successful' and enter the main menu; when entering incorrect credentials, does it display a clear prompt 'Username or password incorrect, login failed'.",
    "expected_output": "2 points: Pre-check passed, correct credentials log in successfully, incorrect credentials are refused with clear prompt. 1 point: Pre-check passed, correct credentials log in successfully, but incorrect credentials are refused without prompt or with ambiguous prompt. 0 points: Pre-check failed (no clear credential input prompt), or login fails regardless of credentials."
},
{
    "metric": "2.1.3 Session Information Management: Session info stored in shared JSON file",
    "description": "1. **Pre-check (User Path):** Does the system support normal login/logout operations, and return to the main menu after logout?\n2. **Preparation (Arrange):** Confirm the shared session JSON file path (e.g., `config/sessions.json`), initial state is empty.\n3. **Execution (Act):** Start 2 clients, log in with user1 and user2 respectively; read the session JSON file; log out user1 client, read the session JSON file again.\n4. **Assertion (Assert):** After login, does the session file record 2 session info entries (including client ID, username, login status as 'online'); after logout, does user1's session status update to 'offline', user2 remains 'online'.",
    "expected_output": "2 points: Pre-check passed, session file accurately records all login statuses, status updates in real-time (≤2 seconds) after logout. 1 point: Pre-check passed, session file records completely, but status update is delayed (3-10 seconds). 0 points: Pre-check failed (cannot login/logout normally), or session file does not record info or records incorrectly."
},
{
    "metric": "2.1.4 Connection Resource Cleanup: Automatically cleans up resources and temp files when client disconnects",
    "description": "1. **Pre-check (User Path):** Does the system provide a clear 'Logout' option to properly terminate client connection?\n2. **Preparation (Arrange):** Record the initial file list in the `temp/` directory and the cache directory path for the current client (e.g., `clients/client1/cache/`).\n3. **Execution (Act):** Start client1, perform file read operation (generate temp lock file and cache file); use the 'Logout' function to disconnect normally; check the file lists in `temp/` and client1 cache directory.\n4. **Assertion (Assert):** After logout, are all temp files (including lock files) belonging to client1 deleted from `temp/`; are all files generated in client1 cache directory deleted.",
    "expected_output": "2 points: Pre-check passed, all temp and cache files are 100% cleaned after logout. 1 point: Pre-check passed, ≤2 non-core temp files remain after logout (does not affect system operation). 0 points: Pre-check failed (cannot logout normally), or ≥3 files remain after logout, or cleanup mistakenly deletes other clients' resources."
},
{
    "metric": "2.2.1 File Creation: Supports specifying filename and permission mode, named as `{owner_id}_{file_name}`",
    "description": "1. **Pre-check (User Path):** Is there a clear 'Create File' option in the main system menu (e.g., '1. Create File') to guide users to input filename and permission mode?\n2. **Preparation (Arrange):** Log in as user A (ID: 101), confirm `servers/server1/101/` and `server2/101/` directories are initially empty; prepare filename 'demo.txt' and permission mode 'writable'.\n3. **Execution (Act):** Select 'Create File' function, input filename 'demo.txt' and permission mode 'writable' as prompted, submit creation request.\n4. **Assertion (Assert):** Check if both storage directories contain the file '101_demo.txt'; check the permission config JSON file to see if the file's permission is recorded as 'writable'.",
    "expected_output": "2 points: Pre-check passed, file is named `{owner_id}_{file_name}`, created in both storage directories, permission recorded accurately. 1 point: Pre-check passed, file created but naming does not follow rules or permission not recorded. 0 points: Pre-check failed (no file creation entry), or file not created."
},
{
    "metric": "2.2.2 File Writing: Supports complete writing of text content, synchronously updates all storage replicas",
    "description": "1. **Pre-check (User Path):** Is there a clear 'Write File' option in the main system menu to guide users to select target file and input content?\n2. **Preparation (Arrange):** Ensure user A has created file '101_demo.txt', prepare content 'test distributed file system content'.\n3. **Execution (Act):** Select 'Write File' function, choose '101_demo.txt', input prepared text content and submit.\n4. **Assertion (Assert):** Read '101_demo.txt' in both `server1` and `server2` directories, check if both files' content matches the written content completely (no missing or garbled characters).",
    "expected_output": "2 points: Pre-check passed, both storage replicas' content is 100% consistent with written content. 1 point: Pre-check passed, writing succeeded, but only one replica updated, the other not synchronized. 0 points: Pre-check failed (no write file entry), or writing failed/content lost."
},
{
    "metric": "2.2.3 File Reading: Supports complete reading of text content, prioritizes local cache",
    "description": "1. **Pre-check (User Path):** Is there a clear 'Read File' option in the main system menu to guide users to select target file?\n2. **Preparation (Arrange):** Ensure user A's '101_demo.txt' has written content 'original content', clear client1 (user A) cache directory (`clients/client1/cache/`).\n3. **Execution (Act):** First, select 'Read File', read '101_demo.txt'; check if cache directory generates a copy; modify the content of the file in `server1` to 'modified server content'; second, select 'Read File' again, check system logs (`logs/`).\n4. **Assertion (Assert):** After first read, does cache directory generate a copy; during second read, does log contain 'cache hit' mark, and is the read content 'original content' (from cache) rather than modified server content.",
    "expected_output": "2 points: Pre-check passed, first read generates cache, second read clearly hits cache (log is traceable). 1 point: Pre-check passed, first read generates cache, but second read cannot confirm cache hit (no log mark). 0 points: Pre-check failed (no read file entry), or cache not generated, or read content is wrong."
},
{
    "metric": "2.2.4 File Deletion: Supports deleting files and clearing all storage replicas",
    "description": "1. **Pre-check (User Path):** Is there a clear 'Delete File' option in the main system menu to guide users to select target file and confirm deletion?\n2. **Preparation (Arrange):** Ensure user A has created a 'full' permission file '101_delete.txt', both `server1` and `server2` directories have file copies; log in as user B (with 'full' permission).\n3. **Execution (Act):** Select 'Delete File', choose '101_delete.txt', confirm deletion.\n4. **Assertion (Assert):** Check both `server1` and `server2` directories to confirm '101_delete.txt' is deleted in both; check system logs for 'File deleted successfully'.",
    "expected_output": "2 points: Pre-check passed, file deleted in both storage directories, log recorded completely. 1 point: Pre-check passed, file deleted in only one directory, the other remains. 0 points: Pre-check failed (no delete file entry), or file not deleted."
},
{
    "metric": "2.2.5 File Search: Supports searching local cache and all storage server files",
    "description": "1. **Pre-check (User Path):** Is there a clear 'Search File' option in the main system menu to guide users to input file name?\n2. **Preparation (Arrange):** Ensure user A's '101_demo.txt' is cached on client1, and both `server1` and `server2` directories have file copies.\n3. **Execution (Act):** Select 'Search File', input keyword 'demo.txt', submit search request.\n4. **Assertion (Assert):** Check if search results display 'Local Cache (clients/client1/cache/101_demo.txt)', 'Storage Server 1 (servers/server1/101/101_demo.txt)', 'Storage Server 2 (servers/server2/101/101_demo.txt)' three locations.",
    "expected_output": "2 points: Pre-check passed, search results completely show cache and both storage server locations (3 total). 1 point: Pre-check passed, only 2 locations shown (missing cache or one server). 0 points: Pre-check failed (no search file entry), or file not found, or only 1 or fewer locations shown."
},
{
    "metric": "2.2.6 File List: Displays all files and distribution status for specified user",
    "description": "1. **Pre-check (User Path):** Is there a clear 'File List' option in the main system menu (e.g., '2. View File List')?\n2. **Preparation (Arrange):** Log in as user A, ensure 3 files are created: '101_file1.txt' (stored in server1, server2), '101_file2.txt' (stored in server1, server2), '101_file3.txt' (stored in server1, server2).\n3. **Execution (Act):** Select 'File List', check output.\n4. **Assertion (Assert):** Does the list include all 3 file names; does each file mark distribution status (e.g., 'Stored in: server1, server2').",
    "expected_output": "2 points: Pre-check passed, list shows 100% (3/3) files, each file's distribution status marked accurately. 1 point: Pre-check passed, list shows ≥67% (2/3) files, or some files missing distribution status. 0 points: Pre-check failed (no file list entry), or list shows <67% (1/3 or fewer) files, or list is empty."
},
{
    "metric": "2.3.1 'full' Permission Control: Supports full access (read/write/delete and all operations)",
    "description": "1. **Pre-check (User Path):** Does the system support specifying 'full' permission mode when creating files, and does file read/write/delete functions have permission check logic?\n2. **Preparation (Arrange):** Log in as user A (ID: 101), create 'full' permission file '101_full.txt'; log in as user B (non-owner, ID: 102).\n3. **Execution (Act):** User B performs: ① read '101_full.txt', ② write 'userB write', ③ delete '101_full.txt'.\n4. **Assertion (Assert):** Check if all 3 operations by user B are successful, no 'insufficient permission' prompt.",
    "expected_output": "2 points: Pre-check passed, all 3 operations by user B are successful. 1 point: Pre-check passed, 2 out of 3 operations by user B are successful, 1 fails. 0 points: Pre-check failed (cannot specify full access or no permission check), or user B succeeds in ≤1 operation."
},
{
    "metric": "2.3.2 'writable' Permission Control: Allows read/write but prohibits delete",
    "description": "1. **Pre-check (User Path):** Does the system support specifying 'writable' permission mode when creating files, and does file operation function have permission check logic?\n2. **Preparation (Arrange):** Log in as user A, create 'writable' permission file '101_writable.txt'; log in as user B (non-owner).\n3. **Execution (Act):** User B performs: ① read '101_writable.txt', ② write 'userB write', ③ delete '101_writable.txt'.\n4. **Assertion (Assert):** Check if user B's read/write operations are successful, and delete operation is refused with 'insufficient permission (no delete permission)' prompt.",
    "expected_output": "2 points: Pre-check passed, read/write operations succeed, delete is refused with clear prompt. 1 point: Pre-check passed, read/write succeed, but delete is refused without prompt. 0 points: Pre-check failed, or delete succeeds, or read/write fail."
},
{
    "metric": "2.3.3 'readonly' Permission Control: Only allows reading, prohibits write/delete",
    "description": "1. **Pre-check (User Path):** Does the system support specifying 'readonly' permission mode when creating files, and does file operation function have permission check logic?\n2. **Preparation (Arrange):** Log in as user A, create 'readonly' permission file '101_readonly.txt'; log in as user A and user B (non-owner).\n3. **Execution (Act):** User A performs: ① write, ② delete; user B performs: ① read, ② write, ③ delete.\n4. **Assertion (Assert):** Check if user A's write/delete and user B's write/delete are refused, user B's read succeeds, all refusals have 'insufficient permission' prompt.",
    "expected_output": "2 points: Pre-check passed, user A's write/delete and user B's write/delete are all refused (4 refusals), user B's read succeeds, prompts are clear. 1 point: Pre-check passed, ≥3 refusals effective, user B's read succeeds, but some refusals lack prompt. 0 points: Pre-check failed, or ≤2 refusals effective, or user B's read fails."
},
{
    "metric": "2.3.4 'private' Permission Control: Only file owner can access all operations",
    "description": "1. **Pre-check (User Path):** Does the system support specifying 'private' permission mode when creating files, and does file operation function have permission check logic?\n2. **Preparation (Arrange):** Log in as user A, create 'private' permission file '101_private.txt'; log in as user B (non-owner).\n3. **Execution (Act):** User B performs: ① read '101_private.txt', ② write content, ③ delete file.\n4. **Assertion (Assert):** Check if all 3 operations by user B are refused with 'only owner can access' prompt; user A performs same 3 operations, confirm all succeed.",
    "expected_output": "2 points: Pre-check passed, all 3 operations by user B are refused with clear prompt, user A's operations succeed. 1 point: Pre-check passed, 2 operations by user B are refused, 1 not refused, user A's operations succeed. 0 points: Pre-check failed, or ≥2 operations by user B succeed, or user A's operations fail."
},
{
    "metric": "2.3.5 Permission Verification Mechanism: Automatically performs permission check before file operations",
    "description": "1. **Pre-check (User Path):** Does the system automatically trigger permission check before file operations (read/write/delete) without manual action?\n2. **Preparation (Arrange):** Log in as user A, create 'writable' permission file '101_check.txt'; log in as user B (non-owner), prepare to perform delete operation.\n3. **Execution (Act):** User B requests to delete '101_check.txt'; check system operation logs (`logs/`).\n4. **Assertion (Assert):** Check if operation is refused; log contains complete record 'Permission Check: User 102 (non-owner) deletes file 101_check.txt, permission writable, no delete permission, operation refused'.",
    "expected_output": "2 points: Pre-check passed, operation is refused, log records permission check process completely. 1 point: Pre-check passed, operation is refused, but log lacks some info (e.g., no user ID). 0 points: Pre-check failed (manual check required), or operation allowed without check, or no log record."
},
{
    "metric": "2.4.1 Write Operation Mutex: Only one process can write to the same file at the same time",
    "description": "1. **Pre-check (User Path):** Does the system support multiple clients running simultaneously, and automatically triggers mutex control on write operations (no manual configuration needed)?\n2. **Preparation (Arrange):** Start client1 (user A, 'full' permission), client2 (user B, 'full' permission), ensure shared file '101_mutex.txt' exists.\n3. **Execution (Act):** Client1 initiates write to '101_mutex.txt' (does not submit, keeps writing); client2 initiates write to same file at the same time.\n4. **Assertion (Assert):** Is client2 prompted 'File 101_mutex.txt is being written by another process, please try again later'; after client1 submits, can client2 write normally?",
    "expected_output": "2 points: Pre-check passed, client2 is immediately (≤1 second) prompted, client1 submits, client2 can write normally. 1 point: Pre-check passed, client2 is blocked but not prompted, or block delay >1 second. 0 points: Pre-check failed, or both clients write simultaneously causing data corruption."
},
{
    "metric": "2.4.2a Operation Queue Management - Queue File Generation: Operation queue recorded by temp file",
    "description": "1. **Pre-check (User Path):** Does the system automatically generate operation queue files during concurrent client operations (no manual creation needed)?\n2. **Preparation (Arrange):** Start 3 clients (all 'full' permission), target file '101_queue.txt'.\n3. **Execution (Act):** 3 clients initiate write to '101_queue.txt' within 1 second; check `temp/` directory for operation queue temp file (e.g., 'queue_101_queue.txt').\n4. **Assertion (Assert):** Does queue file record 3 operation records, each containing 'client ID, request timestamp, operation type (write)'?",
    "expected_output": "2 points: Pre-check passed, queue file generated, 3 operation records 100% complete. 1 point: Pre-check passed, queue file generated, but only 2 records. 0 points: Pre-check failed, or no queue file generated, or ≤1 record."
},
{
    "metric": "2.4.2b Operation Queue Management - Ordered Execution: Execute operations by queue order",
    "description": "1. **Pre-check (User Path):** Does the system execute concurrent requests in queue order (no manual intervention)?\n2. **Preparation (Arrange):** Based on queue file from 2.4.2a, record 3 client request order: client1 (timestamp T1), client2 (T2), client3 (T3), T1<T2<T3.\n3. **Execution (Act):** Allow system to execute queued write operations, each client writes content with its ID (e.g., 'client1 write').\n4. **Assertion (Assert):** Check final content of '101_queue.txt', is it concatenated as 'client1 write → client2 write → client3 write' in queue timestamp order?",
    "expected_output": "2 points: Pre-check passed, execution order matches queue order 100%. 1 point: Pre-check passed, execution order mismatches queue order at 1 place. 0 points: Pre-check failed, or execution order mismatches queue order at ≥2 places."
},
{
    "metric": "2.4.3 Operation Timeout Control: Automatically releases resources after 30 seconds of inactivity",
    "description": "1. **Pre-check (User Path):** Does the system automatically enable operation timeout control (no manual timeout config needed)?\n2. **Preparation (Arrange):** Start client1, initiate write to '101_timeout.txt' (do not submit, keep operation); prepare timer.\n3. **Execution (Act):** Client1 maintains operation status, no action for 30 seconds; after 30 seconds, check lock file in `temp/` directory; start client2, try to write same file.\n4. **Assertion (Assert):** After 30 seconds, is lock file automatically deleted; can client2 initiate write immediately?",
    "expected_output": "2 points: Pre-check passed, lock file deleted within 30±2 seconds, client2 can write immediately. 1 point: Pre-check passed, lock file deleted within 33-40 seconds, client2 needs to wait before writing. 0 points: Pre-check failed, or lock file not deleted after >40 seconds, client2 cannot write."
},
{
    "metric": "2.4.4 Read Operation Concurrency: Multiple processes can read the same file simultaneously",
    "description": "1. **Pre-check (User Path):** Does the system support multiple clients initiating read operations simultaneously (no manual concurrency configuration needed)?\n2. **Preparation (Arrange):** Start 3 clients (all with read permission), ensure the target file '101_concurrent.txt' exists and has fixed content.\n3. **Execution (Act):** All 3 clients initiate read requests for '101_concurrent.txt' at the same time (within ≤1 second).\n4. **Assertion (Assert):** Check whether all 3 clients successfully read the file within ≤1 second, and the content matches the original file with no blocking prompts.",
    "expected_output": "2 points: Pre-check passed, all 3 clients successfully read the file instantly. 1 point: Pre-check passed, 2 clients read instantly, 1 client is blocked for ≤3 seconds before succeeding. 0 points: Pre-check failed, or only 1 client reads successfully, or ≥2 clients are blocked for >3 seconds."
},
{
    "metric": "2.5.1 Cache Directory Independence: Each client maintains an independent local cache directory",
    "description": "1. **Pre-check (User Path):** Does the system automatically create independent cache directories for each client (no manual creation needed)?\n2. **Preparation (Arrange):** Confirm client1 cache directory (`clients/client1/cache/`) and client2 cache directory (`clients/client2/cache/`) are initially empty; log in as client1 (user A) and client2 (user B).\n3. **Execution (Act):** Client1 reads '101_demo.txt' (generates cache); client2 reads '102_file.txt' (generates cache).\n4. **Assertion (Assert):** Check if client1 cache directory only contains '101_demo.txt', client2 cache directory only contains '102_file.txt', no cross files.",
    "expected_output": "2 points: Pre-check passed, both cache directories are 100% independent, no cross files. 1 point: Pre-check passed, cache directories exist, but one contains a non-core file from another client (up to 1 file). 0 points: Pre-check failed (manual creation needed), or both clients share cache directory."
},
{
    "metric": "2.5.2 Cache Replacement Strategy: FIFO strategy, each client caches up to 5 files",
    "description": "1. **Pre-check (User Path):** Does the system automatically execute FIFO cache replacement strategy (no manual cleaning needed)?\n2. **Preparation (Arrange):** Clear client1 cache directory, prepare 5 different files: F1, F2, F3, F4, F5 (named in order).\n3. **Execution (Act):** Client1 reads F1→F2→F3→F4→F5 in order, check cache directory file count; continue to read 6th file F6, check cache directory again.\n4. **Assertion (Assert):** After reading F5, does cache directory have 5 files; after reading F6, does cache directory still have 5 files, and the earliest F1 is deleted, keeping F2-F6.",
    "expected_output": "2 points: Pre-check passed, after reading F5 cache has 5 files, after F6 strictly deletes F1 (FIFO), cache keeps 5. 1 point: Pre-check passed, after F6 cache keeps 5 files, but deleted file is not F1 (non-FIFO). 0 points: Pre-check failed, or after F6 cache >5 files, or no file deleted."
},
{
    "metric": "2.5.3 Cache Auto Update: Automatically updates local cache copy during write operations",
    "description": "1. **Pre-check (User Path):** Does the system automatically update cache after write operations (no manual update needed)?\n2. **Preparation (Arrange):** Client1 has read '101_update.txt', cache directory contains its copy ('old content').\n3. **Execution (Act):** Client1 performs write operation, updates '101_update.txt' content to 'new content'; read '101_update.txt' in client1 cache directory.\n4. **Assertion (Assert):** Is cache file content fully consistent with written 'new content', update delay ≤2 seconds.",
    "expected_output": "2 points: Pre-check passed, cache content 100% synchronously updated, delay ≤2 seconds. 1 point: Pre-check passed, cache content updated, but delay 3-5 seconds. 0 points: Pre-check failed, or cache content not updated, inconsistent with server file."
},
{
    "metric": "2.5.4 Manual Cache Cleaning: Supports cleaning local cache via command",
    "description": "1. **Pre-check (User Path):** Is there a clear 'Clean Cache' option in the main system menu (e.g., '5. Clean Local Cache')?\n2. **Preparation (Arrange):** Client1 cache directory contains 3 files: F1, F2, F3.\n3. **Execution (Act):** Select 'Clean Cache', confirm as prompted; check client1 cache directory.\n4. **Assertion (Assert):** Is cache directory empty, and server files (`server1`, `server2` directories) not mistakenly deleted.",
    "expected_output": "2 points: Pre-check passed, cache directory 100% emptied, server files unaffected. 1 point: Pre-check passed, cache directory has 1 remaining file, server files unaffected. 0 points: Pre-check failed (no clean cache entry), or cache not cleaned, or server files wrongly deleted."
},
{
    "metric": "2.6.1 Data Redundancy Storage: Each file is automatically copied to 2 storage servers",
    "description": "1. **Pre-check (User Path):** Does the system automatically generate double copies during file creation (no manual copying needed)?\n2. **Preparation (Arrange):** Log in as user A, prepare to create file '101_redundant.txt'.\n3. **Execution (Act):** Create '101_redundant.txt' via 'Create File', write content 'redundant test'.\n4. **Assertion (Assert):** Check `server1/101/` and `server2/101/` directories, does both contain '101_redundant.txt', and both files' size and content are completely identical.",
    "expected_output": "2 points: Pre-check passed, both servers have copies, content 100% identical. 1 point: Pre-check passed, both servers have copies, but content has minor difference (≤2 characters). 0 points: Pre-check failed, or only one server has copy, or no copy."
},
{
    "metric": "2.6.2 Storage Node Health Monitoring: Detect node status via directory accessibility",
    "description": "1. **Pre-check (User Path):** Is there a clear 'View Storage Node Status' option in the main system menu?\n2. **Preparation (Arrange):** Confirm `server1` and `server2` directories are accessible (permissions normal); prepare to change `server1` directory permissions to inaccessible (e.g., Linux: chmod 000 server1).\n3. **Execution (Act):** First, select 'View Storage Node Status'; change `server1` directory permissions; select the function again.\n4. **Assertion (Assert):** First check, does it show 'server1: online, server2: online'; second check, does it show 'server1: offline (directory inaccessible), server2: online'.",
    "expected_output": "2 points: Pre-check passed, both status displays 100% accurate, offline node reason marked. 1 point: Pre-check passed, status accurate, but offline node reason not marked. 0 points: Pre-check failed (no node status option), or status displayed incorrectly."
},
{
    "metric": "2.6.3 Data Auto Recovery: Automatically recover from other copy when one is unavailable",
    "description": "1. **Pre-check (User Path):** Does the system automatically trigger data recovery (no manual command needed)?\n2. **Preparation (Arrange):** Confirm '101_recover.txt' has copies in both `server1` and `server2`; manually delete copy in `server1`; prepare timer.\n3. **Execution (Act):** Log in as user A, read '101_recover.txt'; time from read to copy reappearing in `server1` directory.\n4. **Assertion (Assert):** Does read succeed; does copy in `server1` recover within ≤10 seconds, and content matches `server2` copy.",
    "expected_output": "2 points: Pre-check passed, read succeeds, copy recovers within ≤10 seconds, content matches. 1 point: Pre-check passed, read succeeds, but recovery time 11-20 seconds. 0 points: Pre-check failed, or read fails, or recovery time >20 seconds, or not recovered."
},
{
    "metric": "2.6.4 Data Integrity Check: Periodically verify file existence and content integrity",
    "description": "1. **Pre-check (User Path):** Is there a clear 'Perform Data Integrity Check' option in the main system menu?\n2. **Preparation (Arrange):** Ensure user A has 2 files: F1 (`server1` and `server2` copies identical), F2 (`server1` copy modified, differs from `server2`).\n3. **Execution (Act):** Select 'Perform Data Integrity Check'; check report and system logs.\n4. **Assertion (Assert):** Does report accurately mark 'F1: complete (double copies identical), F2: incomplete (server1 and server2 copies differ)'; does log record check time and file status.",
    "expected_output": "2 points: Pre-check passed, 2 file statuses judged 100% accurately, log records complete. 1 point: Pre-check passed, 1 file status accurate, 1 incorrect. 0 points: Pre-check failed (no integrity check option), or both file status judged incorrectly, or no report/log."
},
{
    "metric": "2.7.1 System Configuration Management: Manage core system parameters via JSON file",
    "description": "1. **Pre-check (User Path):** Is there a clear 'View System Configuration' option in the main system menu?\n2. **Preparation (Arrange):** Read `config/system_config.json`, confirm it contains 4 core parameters: number of storage servers (2), max clients (3), cache capacity limit (5 files), operation timeout threshold (30 seconds).\n3. **Execution (Act):** Select 'View System Configuration', check output.\n4. **Assertion (Assert):** Does output match all 4 core parameters 100% (values and descriptions accurate).", 
    "expected_output": "2 points: Pre-check passed, all 4 core parameters (4/4) displayed accurately. 1 point: Pre-check passed, 3 core parameters (3/4) displayed accurately, 1 parameter deviates. 0 points: Pre-check failed (no configuration option), or ≤2 parameters displayed accurately."
},
{
    "metric": "2.7.2 Operation Log Recording: All file operations recorded in text log",
    "description": "1. **Pre-check (User Path):** Does the system automatically record file operation logs (no manual enabling needed)?\n2. **Preparation (Arrange):** Clear log files in `logs/` directory; log in as user A, prepare to perform 5 operations: ① create, ② read, ③ write, ④ delete, ⑤ permission check failure (user B tries to delete user A's writable file).\n3. **Execution (Act):** Perform all 5 operations; read log file content.\n4. **Assertion (Assert):** Does log record all 5 operations, each record contains 'time, user ID, operation type, target file, result' 5 items.",
    "expected_output": "2 points: Pre-check passed, all 5 operations (5/5) recorded, each record has 5 items. 1 point: Pre-check passed, 4 operations (4/5) recorded, or some records missing 1 item. 0 points: Pre-check failed, or ≤3 operations recorded, or no log file."
},
{
    "metric": "2.7.3a System Status Query - Active Client Display: Show current active client info",
    "description": "1. **Pre-check (User Path):** Is there a clear 'View System Status' option in the main system menu, including 'Active Clients' query?\n2. **Preparation (Arrange):** Start 2 clients and log in (user A: ID101, user B: ID102), ensure session status is 'online'.\n3. **Execution (Act):** Select 'View System Status', check 'Active Clients' section.\n4. **Assertion (Assert):** Does it show 'Active clients: 2, client list: client1 (user101), client2 (user102)', info accurate and complete.",
    "expected_output": "2 points: Pre-check passed, active client number and list 100% accurate. 1 point: Pre-check passed, number accurate, but list missing 1 client. 0 points: Pre-check failed, or number incorrect, or no active client info."
},
{
    "metric": "2.7.3b System Status Query - Storage Server Status Display: Show storage server health status",
    "description": "1. **Pre-check (User Path):** Is 'Storage Server Status' included in 'View System Status' function?\n2. **Preparation (Arrange):** Ensure `server1` is accessible (online), `server2` is accessible (online).\n3. **Execution (Act):** Select 'View System Status' function, check 'Storage Server Status' section.\n4. **Assertion (Assert):** Does it display 'Storage servers: 2, status: server1 (online), server2 (online)', consistent with actual status.",
    "expected_output": "2 points: Pre-check passed, both server statuses displayed 100% accurately. 1 point: Pre-check passed, 1 server status accurate, 1 displayed incorrectly. 0 points: Pre-check failed, or no storage server status information."
},
{
    "metric": "2.7.3c System Status Query - File Distribution Display: Show user file distribution information",
    "description": "1. **Pre-check (User Path):** Is 'User File Distribution' included in 'View System Status' function?\n2. **Preparation (Arrange):** Log in as user A (ID101), create 2 files (stored in server1, server2); log in as user B (ID102), create 1 file (stored in server1, server2).\n3. **Execution (Act):** Select 'View System Status' function, check 'User File Distribution' section.\n4. **Assertion (Assert):** Does it display 'User 101: 2 files (stored in server1, server2), User 102: 1 file (stored in server1, server2)', information accurate.",
    "expected_output": "2 points: Pre-check passed, file count and distribution status for both users 100% accurate. 1 point: Pre-check passed, 1 user information accurate, 1 user information deviates (e.g., incorrect count). 0 points: Pre-check failed, or no user file distribution information."
},
{
    "metric": "2.7.4a System Initialization and Cleaning - Directory Initialization: Create all necessary directories",
    "description": "1. **Pre-check (User Path):** Is there a clear 'System Initialization' option in the main system menu?\n2. **Preparation (Arrange):** Delete existing `clients/`, `servers/`, `config/`, `logs/`, `temp/` directories, ensure target directories do not exist initially.\n3. **Execution (Act):** Select 'System Initialization' function, execute initialization; check directory list under root directory.\n4. **Assertion (Assert):** Are all 5 directories (clients/, servers/, config/, logs/, temp/) generated, and does servers/ contain server1, server2 subdirectories.",
    "expected_output": "2 points: Pre-check passed, all 5 directories (5/5) created, servers/ subdirectories complete. 1 point: Pre-check passed, 4 directories (4/5) created, only missing 1 non-core directory (e.g., temp/). 0 points: Pre-check failed (no system initialization function), or ≤3 directories created."
},
{
    "metric": "2.7.4b System Initialization and Cleaning - User Data Cleaning: Delete all user data",
    "description": "1. **Pre-check (User Path):** Is there a clear 'System Cleaning' option in the main system menu (labeled 'Delete all user data')?\n2. **Preparation (Arrange):** Ensure `servers/` (contains user files), `clients/` (contains cache), `logs/` (contains operation logs) have user data, `config/` directory retains configuration files.\n3. **Execution (Act):** Select 'System Cleaning' function, confirm cleaning; check `servers/`, `clients/`, `logs/`, `config/` directories.\n4. **Assertion (Assert):** Are `servers/`, `clients/`, `logs/` directories empty (100% user data deleted), and configuration files in `config/` directory retained.",
    "expected_output": "2 points: Pre-check passed, user data in 3 directories 100% deleted, configuration files retained. 1 point: Pre-check passed, user data deleted in 2 directories, 1 directory has residual data (≤2 files). 0 points: Pre-check failed (no system cleaning function), or data deleted in ≤1 directory, or configuration files mistakenly deleted."
},
{
    "metric": "4.1.1 File Size Limit: Single file does not exceed 500KB (text files)",
    "description": "1. **Pre-check (User Path):** Does the system automatically verify file size during file creation/writing (no manual checking needed)?\n2. **Preparation (Arrange):** Prepare two text files: F_small (490KB, content as repeated text), F_large (510KB, content as repeated text); log in as user A.\n3. **Execution (Act):** Try to upload F_small, check if successful; try to upload F_large, check if rejected.\n4. **Assertion (Assert):** Is F_small uploaded successfully (copies generated in both storage directories); is F_large rejected and displays 'File exceeds maximum limit (500KB)' prompt.",
    "expected_output": "2 points: Pre-check passed, F_small uploaded successfully, F_large rejected with clear prompt. 1 point: Pre-check passed, F_small uploaded successfully, F_large rejected but no prompt. 0 points: Pre-check failed, or F_large allowed to upload, or F_small cannot upload."
},
{
    "metric": "4.1.2 Local Operation Response Time: File operation response time less than 1 second",
    "description": "1. **Pre-check (User Path):** Does the system optimize response time for local file operations (such as cache reading) (no user configuration needed)?\n2. **Preparation (Arrange):** Client1 cache directory has '101_fast.txt' (content 10KB); prepare timing tool (accurate to milliseconds).\n3. **Execution (Act):** Continuously execute 3 'Read 101_fast.txt' operations, each time recording the time from command input to result display (response time).\n4. **Assertion (Assert):** Calculate the average of the 3 response times, is it ≤1000 milliseconds (1 second).",
    "expected_output": "2 points: Pre-check passed, 3 average response times ≤1000 milliseconds. 1 point: Pre-check passed, 3 average response times 1001-2000 milliseconds. 0 points: Pre-check failed, or average response time ＞2000 milliseconds."
},
{
    "metric": "4.2.1 Failure Recovery Time: Data recovery time does not exceed 10 seconds",
    "description": "1. **Pre-check (User Path):** Does the system automatically optimize data recovery speed (no user intervention needed)?\n2. **Preparation (Arrange):** Confirm '101_restore.txt' has copies in both `server1` and `server2`; prepare timing tool (accurate to seconds).\n3. **Execution (Act):** Manually delete the copy in `server1` directory; immediately execute 'Read 101_restore.txt' operation, start timing simultaneously; stop timing when the copy reappears in `server1` directory; repeat test 3 times, calculate average recovery time.\n4. **Assertion (Assert):** Is the 3 average recovery times ≤10 seconds.",
    "expected_output": "2 points: Pre-check passed, 3 average recovery times ≤10 seconds. 1 point: Pre-check passed, 3 average recovery times 11-20 seconds. 0 points: Pre-check failed, or average recovery time ＞20 seconds, or cannot recover."
}
]